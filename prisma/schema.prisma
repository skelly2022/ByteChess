// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model User {
    id                String   @id @default(auto()) @map("_id") @db.ObjectId
    walletAddress     String   @unique
    puzzleRating      Int      @default(1200) // Default puzzle rating
    puzzleRatingChain Int      @default(1200)
    bulletRating      Int      @default(1200) // Default bullet rating
    blitzRating       Int      @default(1200) // Default blitz rating
    rapidRating       Int      @default(1200) // Default rapid rating
    createdAt         DateTime @default(now())
    puzzleCount       Int      @default(0)
    completedPuzzles  String[]
}

model Puzzle {
    id              String @id @default(auto()) @map("_id") @db.ObjectId
    PuzzleId        String @unique
    FEN             String
    Moves           String
    Rating          String
    RatingDeviation String
    Popularity      String
    NbPlays         String
    Themes          String
}

model CustomGame {
    id             String @id @default(auto()) @map("_id") @db.ObjectId
    Rating         Int
    Color          String
    Time           String
    Mode           String
    walletAddress  String
    walletAddress2 String @default("")
}
